html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;  /* ✅ 禁止横向滚动 */
}

/* 加载像素字体（可选） */
@font-face {
  font-family: 'FusionPixelCN';
  src: url('../fusionpixel-hans.woff2') format('woff2');
  font-display: swap;
}



.current-tag-label {
  position: fixed;
  top: 12px;
  left: 16px;
  font-family: 'FusionPixelCN', monospace;
  font-size: 22px;
  color: white;
  text-shadow: 0 0 10px rgba(0, 255, 224, 0.5);
  background: none;
  padding: 4px 10px;
  border-radius: 0;
  z-index: 100;
  pointer-events: none;
}

/* 背景图容器 */
.background-container {
  position: fixed;      /* ✅ 关键修改：固定在视口 */
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;          /* ✅ 保证在最底层 */
  overflow: hidden;
}

.background-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* 面部互动区域 */
.face-area {
  position: absolute;
  width: 8%;
  aspect-ratio: 1 / 1;
  pointer-events: auto;
  z-index: 10;
}

.face-highlight {
  width: 100%;
  height: 100%;
  border: 2px solid rgba(0, 255, 224, 0.7);
  box-shadow: 0 0 10px rgba(0, 255, 224, 0.5);
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: auto;
  cursor: pointer;
  position: relative;
  z-index: 2;
}

.face-info {
  position: absolute;
  top: 0;
  left: 100%;
  margin-left: 10px;
  background-color: rgba(0, 0, 0, 0.85);
  color: #00ffe0;
  font-family: "Press Start 2P", monospace;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 10px;
  white-space: nowrap;
  opacity: 0;
  transform: translateX(10px);
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 1;
  pointer-events: none;
}

.face-highlight:hover {
  opacity: 1;
}

.face-highlight:hover + .face-info {
  opacity: 1;
  transform: translateX(0);
}

/* 可选动画 */
@keyframes pulse {
  0% {
    box-shadow: 0 0 4px #00ffe0;
  }
  50% {
    box-shadow: 0 0 12px #00ffe0;
  }
  100% {
    box-shadow: 0 0 4px #00ffe0;
  }
}

/* ===============================
   基础设置
   =============================== */

/* ---------- 字体 ---------- */
/* Google 字体预下载到本地也可，用 fallback 防止加载失败 */
@font-face {
  font-family: 'IBMPlexSans';
  src: local('IBM Plex Sans'), local('IBM Plex Sans Regular');
  font-weight: 400;
  font-display: swap;
}
@font-face {
  font-family: 'NotoSansSC';
  src: local('Noto Sans SC'), local('Noto Sans SC Regular');
  font-weight: 400;
  font-display: swap;
}

:root {
  --bg: #0d1117;
  --panel: rgba(20, 24, 28, 0.60);
  --panel-hover: rgba(28, 34, 40, 0.72);
  --border: rgba(255,255,255,0.08);
  --text: #dce3ea;
  --muted: #93a1af;
  --heading: #f0f6fc;
  --accent: #1fddb7;
  --shadow: 0 10px 24px rgba(0,0,0,.35);
}

body {
  font-family: 'IBMPlexSans','NotoSansSC',sans-serif;
  color: var(--text);
  line-height: 1.85;
  letter-spacing: .2px;
}

/* ---------- 多章节标题 ---------- */
.novel.multi .novel-title {
  font-family: 'FusionPixelCN', monospace;
  font-size: clamp(36px, 3.5vw, 48px);
  text-align: center;
  color: #ffffff;
  text-shadow: 0 0 8px rgba(0, 255, 224, 0.7),
               0 0 16px rgba(0, 255, 224, 0.3);
  margin: 2rem 0 1.2rem 0;
  z-index: 2;
  position: relative;
}

/* ---------- 章节目录布局 ---------- */
/* ---------- Chapters list: cyber effect ---------- */

.chapter-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 22px;
  padding: 2rem 0;
}

.chapter-list a {
  display: flex;
  flex-direction: column;
  align-items: center;          /* ⬅ 初始居中 */
  justify-content: center;      /* ⬅ 初始居中 */

  width: 240px;
  height: 54px;
  padding: 0 24px;

  color: #e6edf3;
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.02);
  border-radius: 14px;
  background: rgba(20, 24, 28, 0.55);
  position: relative;
  overflow: hidden;
  transition:
    width .35s ease, height .35s ease,
    box-shadow .35s ease, background .35s ease,
    padding .35s ease, transform .3s ease;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  font-size: 16px;
  font-family: 'FusionPixelCN', monospace;
}

.chapter-list a .title {
  font-size: 18px;
  color: #e6edf3;
  text-align: center;
  transition: all .3s ease;
}

.chapter-list a .preview {
  display: block;
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  font-size: 13px;
  line-height: 1.6;
  color: rgba(230,237,243,0.75);
  text-align: center;
  margin-top: 0;                          /* ⬅ 初始无间距 */
  padding: 0 12px 0 12px;                 /* ⬅ 预览内边距 */
  background: linear-gradient(to bottom,
    rgba(20, 24, 28, 0) 0%,
    rgba(20, 24, 28, 0.3) 30%,
    rgba(20, 24, 28, 0.65) 100%);
  mask-image: linear-gradient(to bottom, black 75%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 75%, transparent 100%);
  transition: opacity .35s ease, max-height .35s ease, margin-top .35s ease;
}

/* hover状态 */
.chapter-list a:hover {
  width: 580px;
  height: 120px;
  padding: 20px 22px;                  /* ⬅ 给上下留足空间 */
  align-items: center;                 /* ⬅ 水平居中 */
  justify-content: flex-start;         /* ⬅ 顶部对齐 */
  box-shadow: 0 0 20px rgba(0,255,224,0.35);
  background: rgba(28, 34, 40, 0.8);
  transform: translateY(-2px);
}

.chapter-list a:hover .title {
  margin-bottom: 10px;                /* ⬅ 和 preview 拉开距离 */
}

.chapter-list a:hover .preview {
  opacity: 1;
  max-height: 100px;
  margin-top: 20px;                     /* ⬅ 贴近 title，避免底部太空 */
}

/* 发光线条（右边 & 底边） */
.chapter-list a::before,
.chapter-list a::after {
  content: "";
  position: absolute;
  background: linear-gradient(90deg, transparent, #00ffe0 50%, transparent);
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease;
}

.chapter-list a::before {
  bottom: 0; left: 0; height: 2px; width: 100%;
  background: linear-gradient(90deg, transparent, #00ffe0, transparent);
}

.chapter-list a::after {
  top: 0; right: 0; width: 2px; height: 100%;
  background: linear-gradient(180deg, transparent, #00ffe0, transparent);
}

.chapter-list a:hover::before,
.chapter-list a:hover::after {
  opacity: 1;
  animation: spark .8s infinite linear;
}

/* 电流滋啦动画（右侧+底边） */
@keyframes spark {
  0% { filter: drop-shadow(0 0 1px #00ffe0); }
  50% { filter: drop-shadow(0 0 6px #00ffe0); }
  100% { filter: drop-shadow(0 0 1px #00ffe0); }
}

.back-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  font-family: 'FusionPixelCN', monospace, sans-serif; /* 像素字体 */
  font-size: 14px;
  color: white;
  text-shadow: 0 0 10px rgba(0, 255, 224, 0.5);
  background: transparent;
  border: none;
  cursor: pointer;
  line-height: 1.5;
  text-align: center;
  z-index: 9999;
  text-decoration: none;
  user-select: none;
}
